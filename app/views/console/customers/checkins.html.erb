<% content_for(:title, t('console.customer.customers')) %>
<%= render 'nav' %>
<%= paginate @checkins %>
<div class="card card-secondary">
  <div class="card-body p-0">
    <table class="table table-hover">
      <thead>
        <tr>
          <th></th>
          <th><%= t 'console.common.checkin_date' %></th>
          <th><%= t 'console.customer.checkout_date' %></th>
          <th></th>
          <th></th>
        </tr>
      </thead>
      <% @checkins.each do |checkin| %>
      <tr>
        <td><% if checkin.deleted? %><i class="fas fa-ban text-danger"></i><% end %></td>
        <td><%= formatedDateTime(checkin.datetime, 'Jakarta') %></td>
        <td><%= formatedDateTime(checkin.checkout_datetime, 'Jakarta') if checkin.checkout? %></td>
        <% if checkin.deleted? %>
        <td>&nbsp;</td>
        <td>&nbsp;</td>
        <% else %>
        <td>
          <% if checkin.checkout? %>
          <%= link_to pdf_viewer_path(path: receipt_output_for_stores_path(checkin)), :class => 'btn btn-secondary' do %><i class="fas fa-receipt"></i> <span class="d-none d-lg-inline"><%= t 'console.common.receipt' %></span></a><% end %>
          <% end %>
        </td>
        <td>
          <% if checkin.maintenance_log.present? %>
          <%= link_to console_customer_checkin_show_path(checkin,checkin.maintenance_log), :class => 'btn btn-primary' do %><i class="fas fa-eye"></i> <span class="d-none d-lg-inline"><%= t 'console.common.show' %></span></a><% end %>
          <% end %>
        </td>
        <% end %>
      </tr>
      <% end %>
    </table>
  </div>
</div>
