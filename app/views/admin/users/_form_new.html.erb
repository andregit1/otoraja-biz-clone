<div class="card-body">

  <% if user.errors.any? %>
  <div class="callout callout-danger">
    <h2><%= pluralize(user.errors.count, "error") %> prohibited this User from being saved:</h2>
    <ul>
      <% user.errors.full_messages.each do |message| %>
      <li><%= message %></li>
      <% end %>
    </ul>
  </div>
  <% end %>

  <div class="form-group">
    <%= f.label :user_id, 'User ID' %>
    <div class="input-group">
      <%= f.text_field :user_id, :class=>'form-control' %>
      <div class="input-group-append">
        <span class="input-group-text">@<%= current_user.shop_group_no %></span>
      </div>
    </div>
  </div>

  <div class="form-group">
    <%= f.label :name, 'Name' %>
    <%= f.text_field :name, :class=>'form-control' %>
  </div>

  <div class="form-group">
    <%= f.label :password, 'Password' %>
    <%= f.password_field :password, :class=>'form-control' %>
  </div>

  <div class="form-group">
    <%= f.label :role, 'Role' %>
    <%= f.select :role, @roles, {:include_blank => false}, {:class=>'form-control select2'} %>
  </div>

  <div class="form-group">
    <%= f.label :available_shops, 'Available Shops' %>
    <%= f.collection_select :shop_ids, current_user.shops, :id, :name, {:include_blank => false}, {:class=>'form-control select2'} %>
  </div>

  <%= f.hidden_field :status, :value=>'enabled' %>
  <%= f.hidden_field :shop_id, :value=>@shop_id %>
</div>

<div class="card-footer">
  <div class="row">
    <div class="col text-right">
    <% if @shop_id.present? %>
      <%= link_to 'Back', admin_shops_show_path(id: @shop_id), class: 'btn btn-default btn-lg' %>
    <% else %>
      <%= link_to 'Back', admin_users_path, class: 'btn btn-default btn-lg' %>
    <% end %>
    <%= f.submit 'Regist', :class=>'btn btn-primary btn-lg' %>
    </div>
  </div>
</div>
